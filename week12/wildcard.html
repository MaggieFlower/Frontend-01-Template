<script>
  function match(source, pattern) {
    let m = source.length
    let n = pattern.length
    let dp = []
    for (let x = 0; x < m; x++) {
      dp[x] = []
    }
    for (let x = 0; x < m; x++) {
      for (let y = 0; y < n; y++) {
        if (x == 0 && y == 0) {
          dp[0][0] = true
        } else {
          dp[x][y] = false
        }
      }
    }
    if (n != m && pattern != '*' && n == 1) {
      return false
    }
    // m -> y, n -> x
    // pattern = 0
    for (let x = 1; x < m; x++) {
      dp[x][0] = false
    }
    // pattern="*"
    for (let y = 1; y < n; y++) {
      dp[0][y] = true
    }

    for (let i = 1; i <= m - 1; i++) {
      for (let j = 1; j <= n - 1; j++) {
        if (pattern[j - 1] == '*') {
          dp[i][j] = dp[i - 1][j] || dp[i][j - 1]
        } else {
          if (source[i - 1] == pattern[j - 1] || '?' == pattern[j - 1]) {
            dp[i][j] = dp[i - 1][j - 1]
          } else {
            dp[i][j] = false
          }
        }
      }
    }
    return dp[m - 1][n - 1]
  }
  match('adceb', '*a*b') // true
  match('acdcb', 'a*c?b') //false
  match('acdcb', '*') //true
  match('adceb', '*b') // true
  match('adceb', 'a*b') //true
  match('adceb', 'a*') // true
  match("aa", "a") // false
  match("aa", "aa") // true
  match("aaa", "aa") // false
  match("aa", "*") // true
  match("aa", "a*") // true
  match("ab", "?*") // true
</script>